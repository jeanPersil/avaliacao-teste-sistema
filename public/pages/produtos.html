<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Compra de Produtos - Loja</title>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <link rel="stylesheet" href="css/styleProdutos.css" />
  </head>
  <body>
    <!-- Bot√£o Sair -->
    <button type="button" id="btnSair" class="btn-logout">Sair</button>

    <div class="container">
      <div class="header-compra">
        <h2><span class="icon">üõí</span> Compra de Produtos</h2>
        <p class="subtitle">Selecione o produto e a quantidade desejada</p>
      </div>

      <div class="card-compra">
        <form id="formVenda">
          <div class="form-group">
            <label for="produto" class="form-label">Produto</label>
            <select id="produto" class="form-control" required>
              <option value="">Carregando produtos...</option>
            </select>
            <div id="infoProdutoVenda" class="info-produto"></div>
          </div>

          <div class="form-group">
            <label for="quantidadeVenda" class="form-label">Quantidade</label>
            <div class="quantidade-container">
              <button type="button" class="btn-quantidade" id="btnDiminuir">
                <span class="icon">‚ûñ</span>
              </button>
              <input
                type="number"
                min="1"
                max="100"
                class="quantidade-input"
                id="quantidadeVenda"
                required
                value="1"
              />
              <button type="button" class="btn-quantidade" id="btnAumentar">
                <span class="icon">‚ûï</span>
              </button>
            </div>
          </div>

          
          <div class="form-group">
            <label for="metodoPagamento" class="form-label">
              <span class="icon"></span> M√©todo de Pagamento
            </label>
            <select id="metodoPagamento" class="form-control" required>
              <option value="">Selecione o m√©todo</option>
              <option value="dinheiro"> Dinheiro</option>
              <option value="pix"> PIX (Instant√¢neo)</option>
              <option value="debito"> Cart√£o de D√©bito</option>
              <option value="credito"> Cart√£o de Cr√©dito</option>
            </select>
          </div>

          
          <div id="containerParcelas" class="form-group" style="display: none;">
            <label for="parcelas" class="form-label">
              <span class="icon"></span> Parcelamento
            </label>
            <select id="parcelas" class="form-control">
              <option value="1">√Ä vista (sem juros)</option>
              <option value="2">2x - Juros de 1,99%</option>
              <option value="3">3x - Juros de 2,49%</option>
              <option value="4">4x - Juros de 2,99%</option>
              <option value="5">5x - Juros de 3,49%</option>
              <option value="6">6x - Juros de 3,99%</option>
              <option value="7">7x - Juros de 4,49%</option>
              <option value="8">8x - Juros de 4,99%</option>
              <option value="9">9x - Juros de 5,49%</option>
              <option value="10">10x - Juros de 5,99%</option>
              <option value="11">11x - Juros de 6,49%</option>
              <option value="12">12x - Juros de 6,99%</option>
            </select>
            
            <div class="info-parcelas">
              <div class="info-item">
                <span class="info-label"> Cada parcela:</span>
                <span class="info-value" id="valorParcela">R$ 0,00</span>
              </div>
            </div>
          </div>

         
          <div class="resumo-compra">
            <div class="resumo-item">
              <span>Pre√ßo unit√°rio:</span>
              <span id="precoUnitario">R$ 0,00</span>
            </div>
            <div class="resumo-item">
              <span>Quantidade:</span>
              <span id="quantidadeResumo">0</span>
            </div>
            <div class="resumo-total">
              <span><strong>Total a Pagar:</strong></span>
              <span id="totalCompra">R$ 0,00</span>
            </div>
          </div>

          <button type="submit" id="btnVender" class="btn-comprar">
            <span class="icon"></span> Finalizar Compra
          </button>
        </form>

        <div
          id="mensagem"
          class="mensagem-alerta"
          style="display: none"
          role="alert"
        ></div>
      </div>

      
      <div class="produtos-destaque">
        <h4><span class="icon"></span> Produtos em Estoque</h4>
        <div id="listaProdutosDestaque" class="lista-destaque">
          <!-- Produtos ser√£o carregados via JavaScript -->
        </div>
      </div>
    </div>

    <script type="module" src="js/produtos.js"></script>
    <script>
      document.getElementById("btnSair").addEventListener("click", function () {
        if (confirm("Tem certeza que deseja sair?")) {
          window.location.href = "/";
        }
      });
    </script>
  </body>
</html>